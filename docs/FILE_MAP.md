# File map (what each file does)

This repo is a **Vite + React + TypeScript + React Three Fiber (R3F)** site that renders a 3D model (“DarkStar”) on the landing section, with **parallax background** and a **flip-words** text animation.

## Root

- **`index.html`**: Main HTML document. Provides the React mount node (`#root`) and loads the app entry via `<script type="module" src="/src/main.tsx">`.
- **`package.json`**: Project metadata and scripts:
  - `dev`: run Vite dev server
  - `typecheck`: TypeScript typecheck (`tsc --noEmit`)
  - `lint`: ESLint
  - `format`: Prettier
  - `build`: typecheck + Vite build
  - `deploy`: publish `dist/` to GitHub Pages via `gh-pages`
  Declares dependencies (`react`, `react-dom`, `react-router-dom`, `three`, `@react-three/fiber`, `@react-three/drei`) and tooling dev deps (`vite`, `@vitejs/plugin-react`, `typescript`, `eslint`, `prettier`, etc).
- **`package-lock.json`**: NPM lockfile (exact dependency versions).
- **`.prettierrc.json`**: Prettier formatting rules (quotes, semicolons, print width, trailing commas).
- **`eslint.config.mjs`**: ESLint flat config for JS/TS, with Prettier compatibility and ignores for `dist/` and `node_modules/`.
- **`vite.config.mjs`**: Vite config; sets `base` for correct asset paths on GitHub Pages. Supports override via `VITE_BASE` env var (e.g. `VITE_BASE="/"`).
- **`tsconfig.json`**: TypeScript compiler settings (strict mode, bundler module resolution, TSX via `jsx: "react-jsx"`, noEmit, etc.).
- **`readme.txt`**: Quick start instructions (install/run/build/deploy).
- **`dist/`**: Build output (generated by `npm run build`). This is what gets deployed via `npm run deploy` (`gh-pages -d dist`).
- **`node_modules/`**: Installed dependencies (generated; not source code).

## `src/` (application source)

### Entry + global styles

- **`src/main.tsx`**: React entry point; mounts `<App />` into `#root`.
- **`src/App.tsx`**: Router shell (React Router). Uses `basename={import.meta.env.BASE_URL}` so routing works on GitHub Pages base paths.
- **`src/pages/Home.tsx`**: Main page composition:
  - Sets CSS var `--site-bg` using `import.meta.env.BASE_URL` so the background image works under a GitHub Pages base path.
  - Renders `TopNav`, `Landing`, and `About`.
- **`src/style.css`**: Global styles for layout and visuals:
  - Fixed top nav.
  - Landing section layout (parallax background layers + canvas overlay).
  - Hero typography and flip-word animation CSS.
  - About section styling.
  - Uses `--site-bg` for the page background image (set from React in `Home.tsx`).

### `src/components/` (React UI)

- **`src/components/TopNav.tsx`**: Fixed top navigation (`#home`, `#about` anchors).
- **`src/components/Landing.tsx`**: Landing section markup:
  - Parallax layer DOM (`data-parallax-root` / `data-parallax-layer`)
  - Flip-words DOM (`data-flip-words`)
  - Hosts `#darkstar-container` and mounts `DarkstarCanvas`
  - Bridges `initLandingParallax` + `initFlipWords` via React `useEffect` + cleanup.
- **`src/components/About.tsx`**: About section.
- **`src/components/DarkstarCanvas.tsx`**: R3F `<Canvas>` + GLB load via `useGLTF` + pointer-driven motion + idle/viewport lazy-loading.

### `src/landing/` (landing page effects)

- **`src/landing/parallax.ts`**: Implements landing background parallax:
  - Sets background images on `[data-parallax-layer]` elements using provided asset URLs.
  - Computes scroll progress (0..1) relative to the landing section.
  - Uses a spring integrator (stiffness/damping/mass) to smooth scroll progress (Framer Motion–like feel).
  - Drives per-layer transforms (mountains/planets) on each animation frame.
  - Returns a disposer to stop RAF and remove listeners.
- **`src/landing/flipWords.ts`**: Implements rotating “flip words” headline text:
  - Reads words from `data-flip-words="A,B,C"` and duration from `data-flip-duration`.
  - Builds DOM spans for letters with staggered animation delays.
  - Animates exit/enter by toggling CSS classes and timing removal after the exit duration.
  - Returns a disposer to clear timers.

### `src/utils/`

- **`src/utils/mobileCheck.ts`**: `isMobile()` helper (simple user-agent regex).

### Type support / assets

- **`src/vite-env.d.ts`**: Vite TypeScript environment types reference.

## `public/` (static assets served as-is)

- **`public/assets/*.glb`**: 3D models used by the Three.js scene:
  - `DarkStar.glb`: main model.
  - `DarkStarSmall.glb`: smaller variant for mobile.
- **`public/assets/*.png|*.jpg|*.PNG`**: Landing/background images:
  - `intro_bg.PNG`: page background (set via `--site-bg`).
  - `sky.jpg`, `mountain-*.png`, `planets.png`: parallax layers.
  - Other unused template assets were removed to keep the repo minimal.


